<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0078)http://www.fit.vutbr.cz/study/courses/IOS/public/Lab/projekt1/projekt1.html.cs -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" dir="ltr" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-2">
<!--  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> -->
  
  <title>
    IOS: Projekt 1
  </title>

  <meta name="generator" content="DokuWiki">
<meta name="robots" content="noindex,nofollow">
<meta name="date" content="2012-02-23T20:14:00+0100">
<meta name="keywords" content="vyuka,ios,start">
<!--
<link rel="search" type="application/opensearchdescription+xml" href="https://www.fit.vutbr.cz/%7Esmrcka/w/lib/exe/opensearch.php" title="AS'wiki">
<link rel="start" href="https://www.fit.vutbr.cz/%7Esmrcka/w/">
<link rel="contents" href="https://www.fit.vutbr.cz/%7Esmrcka/w/doku.php?id=vyuka:ios:start&amp;do=index" title="Sitemap">
<link rel="alternate" type="application/rss+xml" title="Recent Changes" href="https://www.fit.vutbr.cz/%7Esmrcka/w/feed.php">
<link rel="alternate" type="application/rss+xml" title="Current Namespace" href="https://www.fit.vutbr.cz/%7Esmrcka/w/feed.php?mode=list&amp;ns=vyuka:ios">
<link rel="edit" title="Edit this page" href="https://www.fit.vutbr.cz/%7Esmrcka/w/doku.php?id=vyuka:ios:start&amp;do=edit">
<link rel="alternate" type="text/html" title="Plain HTML" href="https://www.fit.vutbr.cz/%7Esmrcka/w/doku.php?do=export_xhtml&amp;id=vyuka:ios:start">
<link rel="alternate" type="text/plain" title="Wiki Markup" href="https://www.fit.vutbr.cz/%7Esmrcka/w/doku.php?do=export_raw&amp;id=vyuka:ios:start">
<link rel="canonical" href="https://www.fit.vutbr.cz/%7Esmrcka/w/doku.php?id=vyuka:ios:start">
-->
<link rel="stylesheet" media="screen" type="text/css" href="./IOS  Projekt 1_files/css.css">
<link rel="stylesheet" media="all" type="text/css" href="./IOS  Projekt 1_files/css_002.css">
<link rel="stylesheet" media="print" type="text/css" href="./IOS  Projekt 1_files/css_003.css">
<script type="text/javascript"><!--//--><![CDATA[//><!--
var NS='vyuka:ios';var SIG=' --- //[[smrcka@fit.vutbr.cz|Vyuèující IOS]] 24.02.2012 09:40//';var JSINFO = {"id":"vyuka:ios:start","namespace":"vyuka:ios"};
//--><!]]></script>
<!--
<script type="text/javascript" charset="utf-8" src="doku.php_soubory/js.php"></script>
  <link rel="shortcut icon" href="https://www.fit.vutbr.cz/%7Esmrcka/w/lib/tpl/default/images/favicon.ico">
<link rel="apple-touch-icon" href="https://www.fit.vutbr.cz/%7Esmrcka/w/lib/tpl/default/images/apple-touch-icon.png">
-->
  <link type="text/css" rel="stylesheet" href="data:text/css,"></head>

<body>
<div class="dokuwiki">
  
<!--
  <div class="stylehead">

    <div class="header">
      <div class="pagename">
        [[<a href="https://www.fit.vutbr.cz/%7Esmrcka/w/doku.php?id=vyuka:ios:start&amp;do=backlink" title="Backlinks">vyuka:ios:start</a>]]
      </div>
      <div class="logo">
        <a href="https://www.fit.vutbr.cz/%7Esmrcka/w/doku.php" name="dokuwiki__top" id="dokuwiki__top" accesskey="h" title="[H]">AS'wiki</a>      </div>

      <div class="clearer"></div>
    </div>

    
    <div class="bar" id="bar__top">
      <div class="bar-left" id="bar__topleft">
        <form class="button btn_edit" method="post" action="/~smrcka/w/doku.php"><div class="no"><input name="do" value="edit" type="hidden"><input name="rev" value="" type="hidden"><input name="id" value="vyuka:ios:start" type="hidden"><input value="Edit this page" class="button" accesskey="e" title="Edit this page [E]" type="submit"></div></form>        <form class="button btn_revs" method="get" action="/~smrcka/w/doku.php"><div class="no"><input name="do" value="revisions" type="hidden"><input name="id" value="vyuka:ios:start" type="hidden"><input value="Old revisions" class="button" accesskey="o" title="Old revisions [O]" type="submit"></div></form>      </div>

      <div class="bar-right" id="bar__topright">
                <form action="/~smrcka/w/doku.php" accept-charset="utf-8" class="search" id="dw__search" method="get"><div class="no"><input name="do" value="search" type="hidden"><input id="qsearch__in" accesskey="f" name="id" class="edit" title="[F]" type="text"><input value="Search" class="button" title="Search" type="submit"><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>&nbsp;
      </div>

      <div class="clearer"></div>
    </div>

    
        <div class="breadcrumbs">
      <span class="bchead">You are here: </span><a href="https://www.fit.vutbr.cz/%7Esmrcka/w/doku.php?id=start" class="wikilink1" title="start">start</a> >> <a href="https://www.fit.vutbr.cz/%7Esmrcka/w/doku.php?id=vyuka:start" class="wikilink1" title="vyuka:start">vyuka</a> >> <span class="curid"><a href="https://www.fit.vutbr.cz/%7Esmrcka/w/doku.php?id=vyuka:ios:start" class="wikilink1" title="vyuka:ios:start">ios</a></span>    </div>
    
  </div>
-->
  
  <div class="page">
    <!-- wikipage start -->
    <!-- TOC START -->
<div class="toc">
<div class="tocheader toctoggle" id="toc__header">Table of Contents</div>
<div id="toc__inside">

<ul class="toc">
<li class="level1"><div class="li"><span class="li"><a href="http://www.fit.vutbr.cz/study/courses/IOS/public/Lab/projekt1/projekt1.html.cs#ukol_2011_2012" class="toc">1. úkol 2011/2012</a></span></div>
<ul class="toc">
<li class="level2"><div class="li"><span class="li"><a href="http://www.fit.vutbr.cz/study/courses/IOS/public/Lab/projekt1/projekt1.html.cs#zpracovani_prepinacu" class="toc">Zpracování pøepínaèù</a></span></div></li>
<li class="level2"><div class="li"><span class="li"><a href="http://www.fit.vutbr.cz/study/courses/IOS/public/Lab/projekt1/projekt1.html.cs#zpracovani_operandu" class="toc">Zpracování operandù</a></span></div></li>
<li class="level2"><div class="li"><span class="li"><a href="http://www.fit.vutbr.cz/study/courses/IOS/public/Lab/projekt1/projekt1.html.cs#operace_-v" class="toc">Operace -v</a></span></div></li>
<li class="level2"><div class="li"><span class="li"><a href="http://www.fit.vutbr.cz/study/courses/IOS/public/Lab/projekt1/projekt1.html.cs#operace_-t" class="toc">Operace -t</a></span></div></li>
<li class="level2"><div class="li"><span class="li"><a href="http://www.fit.vutbr.cz/study/courses/IOS/public/Lab/projekt1/projekt1.html.cs#operace_-r" class="toc">Operace -r</a></span></div></li>
<li class="level2"><div class="li"><span class="li"><a href="http://www.fit.vutbr.cz/study/courses/IOS/public/Lab/projekt1/projekt1.html.cs#operace_-s" class="toc">Operace -s</a></span></div></li>
<li class="level2"><div class="li"><span class="li"><a href="http://www.fit.vutbr.cz/study/courses/IOS/public/Lab/projekt1/projekt1.html.cs#operace_-c" class="toc">Operace -c</a></span></div></li>
<li class="level2"><div class="li"><span class="li"><a href="http://www.fit.vutbr.cz/study/courses/IOS/public/Lab/projekt1/projekt1.html.cs#navratove_kody" class="toc">Návratové kódy</a></span></div></li>
<li class="level2"><div class="li"><span class="li"><a href="http://www.fit.vutbr.cz/study/courses/IOS/public/Lab/projekt1/projekt1.html.cs#podminky_implementace" class="toc">Podmínky implementace</a></span></div></li>
<li class="level2"><div class="li"><span class="li"><a href="http://www.fit.vutbr.cz/study/courses/IOS/public/Lab/projekt1/projekt1.html.cs#podminky_odevzdani" class="toc">Podmínky odevzdání</a></span></div></li>
<li class="level2"><div class="li"><span class="li"><a href="http://www.fit.vutbr.cz/study/courses/IOS/public/Lab/projekt1/projekt1.html.cs#doporucene_nastroje" class="toc">Doporuèené nástroje</a></span></div></li>
<li class="level2"><div class="li"><span class="li"><a href="http://www.fit.vutbr.cz/study/courses/IOS/public/Lab/projekt1/projekt1.html.cs#caste_chyby" class="toc">Èasté chyby</a></span></div></li>
<li class="level2"><div class="li"><span class="li"><a href="http://www.fit.vutbr.cz/study/courses/IOS/public/Lab/projekt1/projekt1.html.cs#priklad_pouziti_skriptu" class="toc">Pøíklad pou¾ití skriptu</a></span></div></li>
</ul></li>
</ul>
</div>
</div>
<!-- TOC END -->

<p>
<a href="http://www.fit.vutbr.cz/study/courses/IOS/public.cs" class="urlextern" title="http://www.fit.vutbr.cz/study/courses/IOS/public" rel="nofollow">IOS public</a> | <a href="http://www.fit.vutbr.cz/study/courses/IOS/public/Lab/.cs" class="urlextern" title="http://www.fit.vutbr.cz/study/courses/IOS/public/Lab/" rel="nofollow">Lab</a> | <a href="http://www.fit.vutbr.cz/study/courses/IOS/public/Lab/projekt1/.cs" class="urlextern" title="http://www.fit.vutbr.cz/study/courses/IOS/public/Lab/projekt1/" rel="nofollow">Projekt 1</a>
</p>

<p>
<a href="http://www.opengroup.org/onlinepubs/009695399/utilities/contents.html" class="urlextern" title="http://www.opengroup.org/onlinepubs/009695399/utilities/contents.html" rel="nofollow">SUSv3 shell+utils</a>
</p>

<h1 class="sectionedit1"><a name="ukol_2011_2012" id="ukol_2011_2012">1. úkol 2011/2012</a></h1>
<div class="level1">

<p>
Naprogramujte skript, který pracuje se sadou regresních testù.  Pøi 
spu¹tìní s neplatnými parametry (nesprávný pøepínaè, ¹patný poèet 
operandù apod.) skript vypí¹e následující nápovìdu na standardní chybový
 výstup a skonèí s návratovým kódem 2 (<code>$0</code> je skuteèný název spu¹tìného skriptu, napø. <code>./runtest.sh</code>, <code>/usr/local/bin/runtest.sh</code> nebo <code>renamed_runtest_in_path.sh</code>):
</p>
<pre class="code">Usage: $0 [-vtrsc] TEST_DIR [REGEX]

    -v  validate tree
    -t  run tests
    -r  report results
    -s  synchronize expected results
    -c  clear generated files

    It is mandatory to supply at least one option.</pre>

</div>
<h2 class="sectionedit2"><a name="zpracovani_prepinacu" id="zpracovani_prepinacu">Zpracování pøepínaèù</a></h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> Zpracování pøepínaèù zaji¹»uje utilita <a href="http://pubs.opengroup.org/onlinepubs/000095399/utilities/getopts.html" class="urlextern" title="http://pubs.opengroup.org/onlinepubs/000095399/utilities/getopts.html" rel="nofollow">getopts(1)</a> obvyklým zpùsobem.</div>
</li>
<li class="level1"><div class="li"> Pøepínaèe mohou být zadány v libovolné kombinaci, èetnosti a poøadí.</div>
</li>
<li class="level1"><div class="li"> Alespoò jeden pøepínaè musí být zadán (jinak návratový kód 2 + nápovìda).</div>
</li>
<li class="level1"><div class="li"> Zadané pøepínaèe urèují, které jednotlivé operace se provedou.</div>
</li>
<li class="level1"><div class="li"> Ka¾dá operace se provede nanejvý¹ jednou (i pokud se pøepínaè opakuje).</div>
</li>
<li class="level1"><div class="li"> Jednotlivé operace se provedou v poøadí nezávislém na poøadí pøepínaèù a to následovnì: -v, -t, -r, -s, -c</div>
</li>
</ul>

</div>
<h2 class="sectionedit3"><a name="zpracovani_operandu" id="zpracovani_operandu">Zpracování operandù</a></h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> <code>TEST_DIR</code> udává adresáø, nad jeho¾ stromem skript pracuje (dále jen strom).</div>
</li>
<li class="level1"><div class="li"> Volitelný operand <code>REGEX</code> udává <a href="http://pubs.opengroup.org/onlinepubs/009604499/basedefs/xbd_chap09.html#tag_09_04" class="urlextern" title="http://pubs.opengroup.org/onlinepubs/009604499/basedefs/xbd_chap09.html#tag_09_04" rel="nofollow">roz¹íøený regulární výraz</a> pro filtrování adresáøù, se kterými jednotlivé operace pracují (pou¾ijte <code>grep -E</code> nebo nástroj se stejnou syntaxí regulárních výrazù jako <code>grep -E</code>).</div>
</li>
<li class="level1"><div class="li"> V¹echny operace pracují nad adresáøi uvnitø <code>TEST_DIR</code>, které jsou zadané roz¹íøeným regulárním výrazem <code>REGEX</code>.  Pokud volitelný operand <code>REGEX</code> není zadán, operace pracují nad v¹emi adresáøi uvnitø <code>TEST_DIR</code>.</div>
</li>
<li class="level1"><div class="li"> Jednotlivé adresáøe ve stromu jsou v¾dy zpracovávány v abecedním poøadí (POSIX lokalizace) podle jejich absolutní cesty.</div>
</li>
<li class="level1"><div class="li"> Tato pravidla platí pro v¹echny operace.</div>
</li>
</ul>

</div>
<h2 class="sectionedit4"><a name="operace_-v" id="operace_-v">Operace -v</a></h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> Kontroluje obsah stromu (<code>TEST_DIR</code>) vymezeného daným filtrem (<code>REGEX</code>).</div>
</li>
<li class="level1"><div class="li"> Pro ka¾dou nesplnìnou vlastnost je vypsáno varování.</div>
</li>
<li class="level1"><div class="li"> Pokud není splnìna nìjaká vlastnost, návratový kód je nastaven na 1.</div>
</li>
<li class="level1"><div class="li"> Vlastnosti, které operace -v kontroluje, jsou následující:</div>
<ul>
<li class="level2"><div class="li"> Pokud je v nìkterém adresáøi aspoò jeden adresáø, tak jsou v nìm jenom adresáøe a ¾ádné jiné soubory.</div>
</li>
<li class="level2"><div class="li"> Ve stromu nejsou ¾ádné symbolické odkazy a ¾ádné vícenásobné pevné odkazy.</div>
</li>
<li class="level2"><div class="li"> V ka¾dém adresáøi, ve kterém nejsou adresáøe, existuje soubor <code>cmd-given</code> a u¾ivatel má oprávnìní jej spou¹tìt.</div>
</li>
<li class="level2"><div class="li"> V¹echny soubory <code>stdin-given</code> v daném stromu jsou u¾ivateli pøístupné pro ètení, pokud existují.</div>
</li>
<li class="level2"><div class="li"> V¹echny soubory <code>{stdout,stderr,status}-{expected,captured,delta}</code> v daném stromu jsou u¾ivateli pøístupné pro zápis, pokud existují.</div>
</li>
<li class="level2"><div class="li"> V¹echny soubory <code>status-{expected,captured}</code> obsahují pouze celé èíslo zapsané v desítkové soustavì následované znakem konce øádku (0x0A).</div>
</li>
<li class="level2"><div class="li"> Ve stromu jsou pouze adresáøe adresáøù a vý¹e vyjmenované soubory (a ¾ádné jiné).</div>
</li>
</ul>
</li>
</ul>

</div>
<h2 class="sectionedit5"><a name="operace_-t" id="operace_-t">Operace -t</a></h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> Pro adresáøe z daného stromu, ve kterých se nachází soubor <code>cmd-given</code>, proveï:</div>
<ol>
<li class="level2"><div class="li">   Aktuální adresáø je nastaven na právì zpracovávaný adresáø.</div>
</li>
<li class="level2"><div class="li">   Soubor <code>cmd-given</code> z aktuálního adresáøe je spu¹tìn.</div>
</li>
<li class="level2"><div class="li">   Na standardní vstup je spu¹tìnému souboru pøedám obsah souboru <code>stdin-given</code> z aktuálního adresáøe, pokud soubor existuje.  Pokud soubor <code>stdin-given</code> neexistuje, je na vstup pøesmìrován soubor <code>/dev/null</code>.</div>
</li>
<li class="level2"><div class="li">   Standardní výstup a standardní chybový výstup produkované spu¹tìným programem jsou zapisovány do souborù <code>{stdout,stderr}-captured</code> v aktuálním adresáøi.</div>
</li>
<li class="level2"><div class="li">   Návratový kód spu¹tìného souboru je zapsán do souboru status-captured v aktuálním adresáøi.</div>
</li>
<li class="level2"><div class="li">   Pro dvojice souborù <code>X-{expected,captured}</code> je jejich rozdíl (získaný pøíkazem <code>diff -up</code>) zapsán do odpovídajícího souboru <code>X-delta</code>, pro <code>X</code> z mno¾iny <code>{stdout,stderr,status}</code>.</div>
</li>
<li class="level2"><div class="li">   Na standardní chybový výstup je zapsáno <code>"$TEST: $RESULT\n"</code>, kde:</div>
<ul>
<li class="level4"><div class="li"> <code>$TEST</code> je cesta adresáøe obsahující <code>cmd-given</code> relativní k <code>TEST_DIR</code> (v kanonickém tvaru bez prefixu <code>./</code>).</div>
</li>
<li class="level4"><div class="li"> <code>$RESULT</code> je <code>OK</code>, pokud jsou soubory <code>{stdout,stderr,status}-delta</code> prázdné; v opaèném pøípadì <code>FAILED</code>.</div>
</li>
</ul>
</li>
<li class="level2"><div class="li">   Návratový kód je nastavený na 0, pokud je výsledkem v¹ech testù <code>OK</code>.</div>
</li>
<li class="level2"><div class="li">   Pokud je standardní chybový výstup pøipojen na terminál, jsou øetìzce <code>OK</code> vypisovány zelenì a øetìzce <code>FAILED</code> vypisovány èervenì.</div>
</li>
</ol>
</li>
</ul>

</div>
<h2 class="sectionedit6"><a name="operace_-r" id="operace_-r">Operace -r</a></h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> Viz operace <code>-t</code>, ale 
body 1 a¾ 5 jsou vynechány a pro výpis výsledkù se místo standardního 
chybového výstupu pou¾ívá standardní výstup (pøi tisku i pøi detekci 
terminálu).</div>
</li>
</ul>

</div>
<h2 class="sectionedit7"><a name="operace_-s" id="operace_-s">Operace -s</a></h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> V¹echny soubory <code>{stdout,stderr,status}-captured</code> v daném stromu pøejmenuje na odpovídající soubory <code>{stdout,stderr,status}-expected</code>.</div>
</li>
<li class="level1"><div class="li"> Pokud soubory <code>{stdout,stderr,status}-expected</code> ji¾ existují, jsou pøepsány.</div>
</li>
</ul>

</div>
<h2 class="sectionedit8"><a name="operace_-c" id="operace_-c">Operace -c</a></h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> Sma¾e v¹echny soubory <code>{stdout,stderr,status}-{captured,delta}</code> v daném stromu podle daného filtru.</div>
</li>
</ul>

</div>
<h2 class="sectionedit9"><a name="navratove_kody" id="navratove_kody">Návratové kódy</a></h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> 0 ... V¹echno probìhlo úspì¹nì.</div>
</li>
<li class="level1"><div class="li"> 1 ... Po¾adovaná operace selhala (selhání testu, nevalidní strom, ...).</div>
</li>
<li class="level1"><div class="li"> 2 ... ©patnì zadané parametry, interní chyba skriptu, ...</div>
</li>
<li class="level1"><div class="li"> Bude-li skript vracet nesprávné 
návratové kódy, je mo¾né, ¾e pøijdete o znaènou èást bodù vzhledem ke 
zpùsobu, jakým budeme projekty opravovat a hodnotit.</div>
</li>
</ul>

</div>
<h2 class="sectionedit10"><a name="podminky_implementace" id="podminky_implementace">Podmínky implementace</a></h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> Ve¹kerý kód je obsa¾en v souboru s názvem <code>runtests.sh</code>.</div>
</li>
<li class="level1"><div class="li"> Skript nepou¾ívá ¾ádné doèasné soubory.</div>
</li>
<li class="level1"><div class="li"> Skript nevytváøí jiné soubory, ne¾ které jsou vyjmenované v zadání.</div>
</li>
<li class="level1"><div class="li"> Skript nezapisuje nic mimo strom daný parametrem <code>TEST_DIR</code> (jinak 0 bodù).</div>
</li>
<li class="level1"><div class="li"> Chybová hlá¹ení a varování jsou vypisována na standardní chybový výstup.</div>
</li>
<li class="level1"><div class="li"> Pøesný obsah chybových a varovných 
hlá¹ení není specifikovaný.  Ve vlastním zájmu vypisujte dostateènì 
detailní hlá¹ení.  Usnadní vám to ladìní skriptu.</div>
</li>
<li class="level1"><div class="li"> Na standardní výstup není vypisováno nic, co není explicitnì vy¾adováno v zadání.</div>
</li>
<li class="level1"><div class="li"> Skript musí podporovat zotavení se z chyby (chybìjící soubor, nedostateèné oprávnìní, nedostatek místa na disku, ...).</div>
</li>
<li class="level1"><div class="li"> Skript musí fungovat na serverech <code>{eva,merlin}</code>.</div>
</li>
<li class="level1"><div class="li"> První øádek srkiptu (tzv. shebang) je <code>#!/bin/bash</code> - Pozor! Na serveru eva neexistuje <code>/bin/bash</code>, tam mù¾ete skript vykonat pomocí explicitního spu¹tìní shellu: <code>bash ./runtest.sh ...</code></div>
</li>
<li class="level1"><div class="li"> Není dovoleno pou¾ívat nástroje 
a/nebo pøepínaèe, které nejsou zahrnuty ve specifikaci POSIX (výjimkou 
jsou pouze pøípady uvedené v zadání a pøípady explicitnì povolené 
opravujícími na diskusním fóru).</div>
</li>
<li class="level1"><div class="li"> Je dovoleno pou¾ívat GNU roz¹íøení <code>find(1)</code>, která fungují na serverech <code>{eva,merlin}</code>.</div>
</li>
<li class="level1"><div class="li"> POSIX lokalizaci je mo¾né zapnout pomocí <code>export LC_ALL=C</code> na zaèátku skriptu.</div>
</li>
<li class="level1"><div class="li"> Mù¾ete pøedpokládat, ¾e v testovacích stromech se skryté soubory vyskytovat nebudou.</div>
</li>
</ul>

</div>
<h2 class="sectionedit11"><a name="podminky_odevzdani" id="podminky_odevzdani">Podmínky odevzdání</a></h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> Soubor <code>runtests.sh</code> pou¾ívá kódování 7-bit <acronym title="American Standard Code for Information Interchange">ASCII</acronym>, zalamování øádkù 0x0A.</div>
</li>
<li class="level1"><div class="li"> Soubor <code>runtests.sh</code> má nastavený mód 0755.</div>
</li>
<li class="level1"><div class="li"> Soubor <code>runtests.sh</code> je zabalený pomocí tar/gzip jako <code>xlogin00.tar.gz</code>.</div>
</li>
<li class="level1"><div class="li"> Archiv <code>xlogin00.tar.gz</code> neobsahuje ¾ádné jiné soubory ani adresáøe (xlogin00 nahraïte va¹im u¾ivatelským jménem na serveru eva).</div>
</li>
<li class="level1"><div class="li"> Archiv odevzdejte pomocí 
informaèního systému v dostateèném pøedstihu (odevzdaný soubor mù¾ete 
pøed vypr¹ením termínu snadno nahradit jeho novìj¹í verzí, kdykoliv 
budete potøebovat).</div>
</li>
</ul>

</div>
<h2 class="sectionedit12"><a name="doporucene_nastroje" id="doporucene_nastroje">Doporuèené nástroje</a></h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> Vestavìné pøíkazy shellu: case, cd, eval, exit, for, getopts, printf, shift, test, while, ...</div>
</li>
<li class="level1"><div class="li"> Nástroje dostupné na POSIX systémech: basename, cut, diff, dirname, find, grep, mv, readlink, sort, tty, wc, ...</div>
</li>
<li class="level1"><div class="li"> Barvený výstup na terminál: <a href="http://tldp.org/HOWTO/Bash-Prompt-HOWTO/x329.html" class="urlextern" title="http://tldp.org/HOWTO/Bash-Prompt-HOWTO/x329.html" rel="nofollow">escape sekvence</a>, tput, ...</div>
</li>
<li class="level1"><div class="li"> Není nutné vyu¾ít v¹echny vý¹e uvedené nástroje.</div>
</li>
</ul>

</div>
<h2 class="sectionedit13"><a name="caste_chyby" id="caste_chyby">Èasté chyby</a></h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> U pøíkazù, jako je cd, není kontrolován návratový kód.</div>
</li>
<li class="level1"><div class="li"> Konstrukce jako <code>find "$DIR/" -delete</code> nebo <code>rm -rf "$DIR/"</code>, kde promìnná <code>DIR</code> mù¾e být prázdná nebo nedefinovaná.</div>
</li>
<li class="level1"><div class="li"> ©patný nebo chybìjící quoting 
(skript napø. nepøedpokládá názvy souborù, ve kterých je mezera, dolar, 
uvozovka, zpìtné lomítko, atd.).</div>
</li>
<li class="level1"><div class="li"> Skript pøedpokládá konkrétní umístìní operandù a/nebo sebe samého (napø. funguje <code>./runtests.sh -r ./tree</code>, ale nefunguje <code>cp -v ./runtests.sh /tmp &amp;&amp; /tmp/runtests.sh -r ./tree</code>).</div>
</li>
<li class="level1"><div class="li"> Duplicitní kód místo pou¾ívání funkcí, cyklù, atd.</div>
</li>
<li class="level1"><div class="li"> Do informaèního systému je 
odevzdávána a¾ koneèná verze projektu tìsnì pøed vypr¹ením termínu 
(doporuèujeme ukládat na server prùbì¾nì i èásteèné verze øe¹ení pro 
pøípad, ¾e se vám na poslední chvíli rozbije poèítaè nebo pøipojení k 
internetu).</div>
</li>
</ul>

</div>
<h2 class="sectionedit14"><a name="priklad_pouziti_skriptu" id="priklad_pouziti_skriptu">Pøíklad pou¾ití skriptu</a></h2>
<div class="level2">
<pre class="code">$ curl http://www.fit.vutbr.cz/study/courses/IOS/public/Lab/projekt1/tree.tar | tar xf -
$ ./runtests.sh ./tree &gt;/dev/null; printf "EC = %d\n" $?
Usage: ./runtests.sh [-vtrsc] TEST_DIR [regex]

    -v  validate tree
    -t  run tests
    -r  report results
    -s  synchronize expected results
    -c  clear generated files

    It is mandatory to supply at least one option.
EC = 2

$ ./runtests.sh -v tree; printf "EC = %d\n" $?
./runtests.sh: directories and other files mixed in: .
./runtests.sh: extra line in ./tests/sort/status-expected
./runtests.sh: not a number in ./tests/sort/status-expected
EC = 1

$ ./runtests.sh -v tree trivial; printf "EC = %d\n" $?
EC = 0

$ ./runtests.sh -st ./tree/tests sort 2&gt;/dev/null; printf "EC = %d\n" $?
EC = 1

$ (./runtests.sh -t ./tree/tests 'sort|trivial/[^k]'; printf "EC = %d\n" $?) | cat
sort: [1;32mOK[0m
trivial/false: [1;32mOK[0m
trivial/true: [1;32mOK[0m
EC = 0

$ ./runtests.sh -crtv ./tree/tests sort &gt;/dev/null; printf "EC = %d\n" $?
sort: [1;32mOK[0m
EC = 0

$ (./runtests.sh -r -t ./tree/tests; printf "EC = %d\n" $?) | cat
expensive/sleep/0.00: [1;32mOK[0m
expensive/sleep/0.25: [1;32mOK[0m
expensive/sleep/0.50: [1;32mOK[0m
expensive/sleep/0.75: [1;32mOK[0m
expensive/sleep/1.00: [1;32mOK[0m
expensive/sleep/1.25: [1;32mOK[0m
expensive/sleep/1.50: [1;32mOK[0m
expensive/sleep/1.75: [1;32mOK[0m
expensive/sleep/2.00: [1;32mOK[0m
sort: [1;32mOK[0m
trivial/false: [1;32mOK[0m
trivial/known-to-fail: [1;31mFAILED[0m
trivial/true: [1;32mOK[0m
expensive/sleep/0.00: OK
expensive/sleep/0.25: OK
expensive/sleep/0.50: OK
expensive/sleep/0.75: OK
expensive/sleep/1.00: OK
expensive/sleep/1.25: OK
expensive/sleep/1.50: OK
expensive/sleep/1.75: OK
expensive/sleep/2.00: OK
sort: OK
trivial/false: OK
trivial/known-to-fail: FAILED
trivial/true: OK
EC = 1</pre>

</div>
    <!-- wikipage stop -->
  </div>

  <div class="clearer"></div>

  


</div></body></html>